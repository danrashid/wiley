<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>wiley:test</title>
    <style>
      body {
        font-family: monospace;
      }
      li {
        white-space: pre;
        margin: 0.5em 0;
      }
    </style>
  </head>

  <body>
    <main></main>
  </body>
  <script type="module">
    import { $, el, req } from "./scripts.js";
    import results from "./tests.js";

    $("main").append(
      el(
        "ul",
        ...Object.entries(results).map(([category, tests]) =>
          el(
            "li",
            `${category}: ${
              Object.values(tests).every((value) => value === "passed")
                ? "passed"
                : "failed"
            }`,
            el(
              "ul",
              ...Object.entries(tests).map(([description, result]) =>
                el("li", `${description}: ${result}`)
              )
            )
          )
        )
      )
    );
  </script>
</html>
